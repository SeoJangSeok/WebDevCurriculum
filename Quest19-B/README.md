# Quest 19-B. 서버 아키텍쳐 패턴

## Introduction

- 이번 퀘스트에서는 현대적인 서버 아키텍쳐 패턴에 대해 익혀 보도록 하겠습니다.

## Topics

- Microservice Architecture
- Serverless Architecture
- AWS Lambda
- Service Mesh

## Resources

- [Jeff Bezos의 이메일](https://news.hada.io/topic?id=638)
- [마이크로서비스란?](https://www.redhat.com/ko/topics/microservices/what-are-microservices)
- [AWS Lambda](https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/welcome.html)
- [AWS API Gateway](https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/welcome.html)

## Checklist

- 마이크로서비스 아키텍쳐란 무엇일까요? 어떤 식으로 서비스를 구성할 수 있을까요? 어떤 장점을 가지고 있을까요?

```
마이크로서비스 아키텍처는 애플리케이션이 서비스 모음으로 개발되는 애플리케이션 아키텍처의 한 유형이다. 또한 마이크로서비스 아키텍처 다이어그램과 서비스를 독립적으로 개발, 배포, 유지관리할 수 있는 프레임워크를 제공한다.
```

> 서비스 구성

```
하나의 application을 독립적인 service들로 구성한다.
```

> 장점

```
1. 변경점을 적용해야 할 부분만 반영하면 되기 때문에 유지보수가 더 수월하다.
2. 체계적으로 시스템 및 파일관리가 가능하다.
3. 유지관리가 더 잘되기 때문에, 서비스의 신뢰도가 더 좋다.

마이크로서비스로 이루어진 애플리케이션 환경에서는 각각의 독립적인 배포가 가능해서 서비스 관리가 용이하고 그만큼 업데이트가 용이하다.
```

- 서버리스 아키텍쳐란 무엇일까요? 어떤 식으로 서비스를 구성할 수 있을까요? 어떤 장점을 가지고 있을까요?
  > 서버리스 아키텍쳐

```
서버(인프라)를 따로 구축하거나 관리할 필요없이 application과 service 운영에만 집중할 수 있는 설계 형태를 일컫는다 => 개발자는 서버운영 및 관리를 별도로 하지 않고, 오직 기능개발 및 수행여부 등 개발과정에 집중할 수 있게 된다.
```

> 서비스 구성

```
BaaS(Backend as a Service) : DB 및 Social service 등 백엔드 관련(데이터 저장 및 추출 등) 기능(API)을 제공하여, 별도의 server 개발을 하지 않고도 백엔드 구축을 할 수 있다. 이러한 서비스들은 정적인 용량에 대한 비용 지불이 아닌, 유동적인 사용량에 근거하여 비용을 지불한다.

장점 : Firebase와 같은 백엔드 시스템이(데이터를 저장하고 이를 활용할 수 있는 공간) 이미 구축되어 있는 상태라면, 별도의 서버구축비용이 들지 않고 사용비용만 지불하면 된다.
또한 서버구축에 대한 개발비용도 들지 않으므로 효율적일 수 있고, 일정 용량까지는 무료이므로 학습용/연습용으로 유용하게 사용할 수 있다.

FaaS(Function as a Service) : 프로젝트를 여러 개의 함수로 쪼개서 분산된 컴퓨팅 환경(가상환경)에 등록한 후, 이 함수들이 실행하는 만큼 비용을 내는 플랫폼을 일컫는다. 이때 기능이란, 우리가 클라우드 컴퓨팅 환경에 등록한 함수를 의미한다.

FaaS는 클라우드 환경에 사용자가 등록한 함수에 대한 API를 제공하고, 해당 함수가 실행될 때마다 비용을 지불하는 형태로 진행된다.

장점 : 따로 서버를 구축하지 않아도 된다는 점에서 BaaS와 유사하지만, BaaS는 하나의 저장소(所)나 플랫폼이 아닌 함수(API)를 제공하며 해당 함수가 호출될 경우에만 실행이 된다는 특징이 있다.
특히 자체적으로 로그분석 및 실시간 모니터링 시스템을 적용하여, 특정 함수 호출 시 알람을 발생하게 하는 등 추가적인 기능도 연동할 수 있다.
```

- AWS Lambda는 어떤 서비스일까요? 이러한 서비스는 어떤 특징을 가지고, 어디에 쓰일 수 있을까요?

```
AWS에서 제공하는 FaaS의 일종이다.
application 및 mobile app의 백엔드를 별도 구축없이 빠르게 구현할 수 있는 서비스이다.
```

- API Gateway는 어떤 서비스인가요? 어떤 설정을 할 수 있을까요?

```
마이크로서비스의 경계 외부(최후방)에서 오는 API호출을 제어하고, 각 서비스들에게 메시지를 보내는 서비스이다.
```

- 많은 마이크로서비스들을 복잡하게 연결할 경우 관리상에 어떤 난점이 생길 수 있을까요? 서비스 메쉬는 무엇이고 이러한 난점을 어떻게 해결하려는 시도일까요?

```
관리할 services들이 늘어난다면 그만큼 관리해야할 절대량이 늘어나고 비용도 같이 소모될 수 밖에 없다.
이 상황에서 microservices들이 복잡한 연결관계를 가지고 있다면, 이는 곧 서로 종속관계를 가져 하나의 services 만 고려할 수 없고 다른 부분까지 생각해야 하는 문제가 생긴다.

서비스 메쉬 : 마이크로서비스의 경계 내부(네트워크)에서의 트래픽을 관리하는 서비스이다.
```

## Quest

- 메모장 시스템을 JWT 발급을 위한 마이크로서비스와 실제 비즈니스 로직을 처리하는 마이크로서비스로 나누어 보세요.
- JWT 토큰 발급의 역할을 하는 마이크로서비스를 AWS Lambda와 API Gateway를 이용하여 구축해 보세요.

## Advanced

- Istio는 어떤 툴일까요? 이 툴을 Kubernetes와 함께 사용하여 어떤 구조를 구현할 수 있을까요?
